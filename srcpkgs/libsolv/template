# Template file for 'libsolv'
pkgname=libsolv
version=0.7.28
revision=1
build_style=cmake
configure_args="-DENABLE_STATIC=ON
 -DENABLE_ZSTD_COMPRESSION=ON
 -DENABLE_DEBIAN=ON"
makedepends="liblzma-devel zlib-devel libzstd-devel"
short_desc="Package dependency solver using a satisfiability algorithm"
maintainer="Piraty <mail@piraty.dev>"
license="BSD-3-Clause"
homepage="https://en.opensuse.org/openSUSE:Libzypp_satsolver"
distfiles="https://github.com/openSUSE/libsolv/archive/refs/tags/${version}.tar.gz"
checksum=bd2406f498fea6086ae0eacbf8b188c98b380e59af2267170e6a7b7d715cb207

post_install() {
	vlicense LICENSE.BSD
}

libsolv-tools_package() {
	short_desc+=" - tools"
	depends="${sourcepkg}>=${version}_${revision}"
	pkg_install() {
		vmove usr/bin
		vmove usr/share/man/man1
	}
}

libsolv-devel_package() {
	short_desc+=" - development files"
	depends="${sourcepkg}>=${version}_${revision}"
	pkg_install() {
		vmove usr/include
		vmove "usr/lib/*.a"
		vmove "usr/lib/*.so"
		vmove usr/lib/pkgconfig
		vmove usr/share/man/man3
	}
}
